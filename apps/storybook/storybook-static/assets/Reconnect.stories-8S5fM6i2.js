import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{c as F}from"./clsx-B-dksMZM.js";import{T as n}from"./Typography-Btiv0Ab8.js";import{B as d}from"./Button-BfZG8wjE.js";import"./index-yBjzXJbu.js";const I="_reconnect_vxdx1_1",L="_glitchBg_vxdx1_13",R="_scanlines_vxdx1_19",S="_noise_vxdx1_37",D="_container_vxdx1_59",O="_iconContainer_vxdx1_70",w="_icon_vxdx1_70",A="_wifiIcon_vxdx1_83",G="_signalBars_vxdx1_89",z="_iconGlitch_vxdx1_93",M="_glitchText_vxdx1_111",b="_glitchLayer_vxdx1_115",k="_progressContainer_vxdx1_159",H="_progressBar_vxdx1_168",U="_progressFill_vxdx1_176",$="_reconnecting_vxdx1_183",q="_actions_vxdx1_193",J="_failed_vxdx1_203",s={reconnect:I,glitchBg:L,scanlines:R,"scanline-scroll":"_scanline-scroll_vxdx1_1",noise:S,"noise-shift":"_noise-shift_vxdx1_1",container:D,iconContainer:O,icon:w,wifiIcon:A,signalBars:G,iconGlitch:z,"icon-glitch":"_icon-glitch_vxdx1_1",glitchText:M,glitchLayer:b,"glitch-1":"_glitch-1_vxdx1_1","glitch-2":"_glitch-2_vxdx1_1",progressContainer:k,progressBar:H,progressFill:U,reconnecting:$,"progress-pulse":"_progress-pulse_vxdx1_1",actions:q,failed:J};function K({state:c,attempts:o=0,maxAttempts:l=5,errorMessage:y,onRetry:T,onNewGame:B,className:E}){return e.jsxs("div",{className:F(s.reconnect,s[c],E),children:[e.jsxs("div",{className:s.glitchBg,children:[e.jsx("div",{className:s.scanlines}),e.jsx("div",{className:s.noise})]}),e.jsxs("div",{className:s.container,children:[e.jsx("div",{className:s.iconContainer,children:e.jsxs("div",{className:s.icon,children:[e.jsxs("svg",{viewBox:"0 0 24 24",className:s.wifiIcon,children:[e.jsx("path",{fill:"currentColor",d:"M12 21l-1.5-1.5c-2.1-2.1-2.1-5.5 0-7.6l1.5-1.5 1.5 1.5c2.1 2.1 2.1 5.5 0 7.6L12 21zm0-4.5c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5z"}),e.jsx("path",{fill:"currentColor",d:"M12 3C7.95 3 4.21 4.34 1.2 6.6l1.5 1.5C5.25 6.05 8.45 5 12 5s6.75 1.05 9.3 3.1l1.5-1.5C19.79 4.34 16.05 3 12 3zm0 4c-2.84 0-5.45.95-7.6 2.55l1.5 1.5C7.75 9.75 9.8 9 12 9s4.25.75 6.1 2.05l1.5-1.5C17.45 7.95 14.84 7 12 7z",className:s.signalBars})]}),c!=="failed"&&e.jsx("div",{className:s.iconGlitch})]})}),c==="disconnected"&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"h2",className:s.glitchText,children:e.jsx("span",{className:s.glitchLayer,"data-text":"DISCONNECTED",children:"DISCONNECTED"})}),e.jsx(n,{variant:"body",color:"muted",children:"Connection to server lost"})]}),c==="reconnecting"&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"h2",className:s.glitchText,children:e.jsx("span",{className:s.glitchLayer,"data-text":"RECONNECTING",children:"RECONNECTING"})}),e.jsxs("div",{className:s.progressContainer,children:[e.jsx("div",{className:s.progressBar,children:e.jsx("div",{className:s.progressFill,style:{width:`${o/l*100}%`}})}),e.jsxs(n,{variant:"caption",color:"muted",children:["Attempt ",o," of ",l]})]})]}),c==="failed"&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"h2",color:"error",className:s.glitchText,children:e.jsx("span",{className:s.glitchLayer,"data-text":"FAILED",children:"CONNECTION FAILED"})}),e.jsx(n,{variant:"body",color:"muted",children:y||"Unable to reconnect to the game server."}),e.jsxs("div",{className:s.actions,children:[e.jsx(d,{variant:"primary",size:"lg",onClick:T,children:"Try Again"}),e.jsx(d,{variant:"ghost",size:"lg",onClick:B,children:"Start New Game"})]})]})]})]})}const Y={title:"Organisms/Host/Reconnect",component:K,parameters:{layout:"fullscreen"},tags:["autodocs"]},t={args:{state:"disconnected"}},r={args:{state:"reconnecting",attempts:2,maxAttempts:5}},a={args:{state:"reconnecting",attempts:4,maxAttempts:5}},i={args:{state:"failed",errorMessage:"Server timed out. The game may have ended."}};var x,g,m;t.parameters={...t.parameters,docs:{...(x=t.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    state: 'disconnected'
  }
}`,...(m=(g=t.parameters)==null?void 0:g.docs)==null?void 0:m.source}}};var _,h,p;r.parameters={...r.parameters,docs:{...(_=r.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    state: 'reconnecting',
    attempts: 2,
    maxAttempts: 5
  }
}`,...(p=(h=r.parameters)==null?void 0:h.docs)==null?void 0:p.source}}};var v,N,j;a.parameters={...a.parameters,docs:{...(v=a.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    state: 'reconnecting',
    attempts: 4,
    maxAttempts: 5
  }
}`,...(j=(N=a.parameters)==null?void 0:N.docs)==null?void 0:j.source}}};var u,C,f;i.parameters={...i.parameters,docs:{...(u=i.parameters)==null?void 0:u.docs,source:{originalSource:`{
  args: {
    state: 'failed',
    errorMessage: 'Server timed out. The game may have ended.'
  }
}`,...(f=(C=i.parameters)==null?void 0:C.docs)==null?void 0:f.source}}};const Z=["Disconnected","Reconnecting","ReconnectingLate","Failed"];export{t as Disconnected,i as Failed,r as Reconnecting,a as ReconnectingLate,Z as __namedExportsOrder,Y as default};

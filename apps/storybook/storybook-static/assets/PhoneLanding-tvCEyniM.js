import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as f}from"./index-tvICUrOf.js";import{c as x}from"./clsx-B-dksMZM.js";import{T as r}from"./Typography-Btiv0Ab8.js";import{B as m}from"./Button-BfZG8wjE.js";const k="_landing_dknyt_1",v="_logo_dknyt_14",N="_logoText_dknyt_22",C="_form_dknyt_35",B="_codeInput_dknyt_45",I="_codeBoxes_dknyt_54",b="_codeBox_dknyt_54",F="_codeBoxFilled_dknyt_75",L="_hiddenInput_dknyt_81",R="_error_dknyt_90",T="_rejoinContainer_dknyt_95",z="_rejoinInfo_dknyt_104",E="_rejoinLink_dknyt_116",D="_playerName_dknyt_123",o={landing:k,logo:v,logoText:N,form:C,codeInput:B,codeBoxes:I,codeBox:b,codeBoxFilled:F,hiddenInput:L,error:R,rejoinContainer:T,rejoinInfo:z,rejoinLink:E,playerName:D};function H({mode:d="join",initialRoomCode:j="",previousName:s,isConnecting:l=!1,errorMessage:i,onJoin:c,onRejoin:_,onModeSwitch:t,className:p}){const[a,u]=f.useState(j),h=n=>{n.preventDefault(),a.length===4&&(c==null||c(a.toUpperCase()))},y=n=>{const g=n.replace(/[^a-zA-Z]/g,"").toUpperCase().slice(0,4);u(g)};return e.jsxs("div",{className:x(o.landing,p),children:[e.jsxs("div",{className:o.logo,children:[e.jsx(r,{variant:"h1",glow:!0,className:o.logoText,children:"ðŸ¸"}),e.jsx(r,{variant:"h2",glow:!0,children:"SHAKEN"}),e.jsx(r,{variant:"body",color:"secondary",children:"Not Stirred"})]}),d==="join"&&e.jsxs("form",{className:o.form,onSubmit:h,children:[e.jsxs("div",{className:o.codeInput,children:[e.jsx(r,{variant:"label",color:"muted",children:"Enter Room Code"}),e.jsx("div",{className:o.codeBoxes,children:[0,1,2,3].map(n=>e.jsx("div",{className:x(o.codeBox,a[n]&&o.codeBoxFilled),children:a[n]||""},n))}),e.jsx("input",{type:"text",value:a,onChange:n=>y(n.target.value),className:o.hiddenInput,autoFocus:!0,autoComplete:"off",autoCapitalize:"characters",maxLength:4,disabled:l})]}),i&&e.jsx(r,{variant:"caption",color:"error",className:o.error,children:i}),e.jsx(m,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,glow:!0,disabled:a.length!==4||l,children:l?"Connecting...":"Join Game"})]}),d==="rejoin"&&s&&e.jsxs("div",{className:o.rejoinContainer,children:[e.jsxs("div",{className:o.rejoinInfo,children:[e.jsx(r,{variant:"body",color:"muted",children:"Welcome back,"}),e.jsx(r,{variant:"h3",color:"primary",glow:!0,children:s})]}),i&&e.jsx(r,{variant:"caption",color:"error",className:o.error,children:i}),e.jsx(m,{variant:"primary",size:"lg",fullWidth:!0,glow:!0,onClick:_,disabled:l,children:l?"Reconnecting...":"Rejoin Game"}),e.jsx(m,{variant:"ghost",size:"md",onClick:()=>t==null?void 0:t("join"),children:"Join different game"})]}),d==="join"&&s&&e.jsx("button",{className:o.rejoinLink,onClick:()=>t==null?void 0:t("rejoin"),children:e.jsxs(r,{variant:"caption",color:"muted",children:["Rejoin as ",e.jsx("span",{className:o.playerName,children:s}),"?"]})})]})}export{H as P};

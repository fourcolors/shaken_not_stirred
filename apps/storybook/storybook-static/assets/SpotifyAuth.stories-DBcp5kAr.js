import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{c as z}from"./clsx-B-dksMZM.js";import{T as n}from"./Typography-Btiv0Ab8.js";import{B as r}from"./Button-BfZG8wjE.js";import"./index-yBjzXJbu.js";const A="_spotifyAuth_9734p_1",I="_container_9734p_10",k="_logoContainer_9734p_20",E="_spotifyLogo_9734p_27",F="_logoIcon_9734p_39",L="_success_9734p_44",P="_error_9734p_49",R="_pulseRing_9734p_54",D="_title_9734p_75",M="_description_9734p_79",B="_accountInfo_9734p_84",J="_actions_9734p_95",T="_spinner_9734p_104",O="_spin_9734p_104",V="_connecting_9734p_120",e={spotifyAuth:A,container:I,logoContainer:k,spotifyLogo:E,logoIcon:F,success:L,error:P,pulseRing:R,"pulse-ring":"_pulse-ring_9734p_1",title:D,description:M,accountInfo:B,actions:J,spinner:T,spin:O,connecting:V,"pulse-glow":"_pulse-glow_9734p_1"};function H({state:o,accountName:N,errorMessage:w,onConnect:p,onSkip:l,onDisconnect:b,className:S}){return s.jsx("div",{className:z(e.spotifyAuth,e[o],S),children:s.jsxs("div",{className:e.container,children:[s.jsxs("div",{className:e.logoContainer,children:[s.jsx("div",{className:e.spotifyLogo,children:s.jsx("svg",{viewBox:"0 0 24 24",className:e.logoIcon,children:s.jsx("path",{fill:"currentColor",d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})})}),o==="connecting"&&s.jsx("div",{className:e.pulseRing})]}),o==="idle"&&s.jsxs(s.Fragment,{children:[s.jsx(n,{variant:"h2",glow:!0,className:e.title,children:"Connect Spotify"}),s.jsxs(n,{variant:"body",color:"muted",className:e.description,children:["Enable DJ mode to let players vote on the vibe.",s.jsx("br",{}),"Music keeps the party going between rounds!"]}),s.jsxs("div",{className:e.actions,children:[s.jsx(r,{variant:"primary",size:"lg",glow:!0,onClick:p,children:"Connect Account"}),s.jsx(r,{variant:"ghost",size:"lg",onClick:l,children:"Skip for now"})]})]}),o==="connecting"&&s.jsxs(s.Fragment,{children:[s.jsx(n,{variant:"h3",className:e.title,children:"Connecting..."}),s.jsx(n,{variant:"body",color:"muted",className:e.description,children:"Complete authentication in the popup window"}),s.jsx("div",{className:e.spinner})]}),o==="success"&&s.jsxs(s.Fragment,{children:[s.jsx(n,{variant:"h2",color:"accent",glow:!0,className:e.title,children:"Connected!"}),s.jsxs("div",{className:e.accountInfo,children:[s.jsx(n,{variant:"label",color:"muted",children:"Logged in as"}),s.jsx(n,{variant:"h4",color:"primary",children:N})]}),s.jsxs("div",{className:e.actions,children:[s.jsx(r,{variant:"primary",size:"lg",glow:!0,onClick:l,children:"Continue"}),s.jsx(r,{variant:"ghost",size:"md",onClick:b,children:"Disconnect"})]})]}),o==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(n,{variant:"h3",color:"error",className:e.title,children:"Connection Failed"}),s.jsx(n,{variant:"body",color:"muted",className:e.description,children:w||"Unable to connect to Spotify. Please try again."}),s.jsxs("div",{className:e.actions,children:[s.jsx(r,{variant:"primary",size:"lg",onClick:p,children:"Try Again"}),s.jsx(r,{variant:"ghost",size:"lg",onClick:l,children:"Skip"})]})]})]})})}const W={title:"Organisms/Host/SpotifyAuth",component:H,parameters:{layout:"fullscreen"},tags:["autodocs"]},t={args:{state:"idle"}},c={args:{state:"connecting"}},a={args:{state:"success",accountName:"DJ_PartyVibes"}},i={args:{state:"error",errorMessage:"Authentication was cancelled. Please try again."}};var d,g,m;t.parameters={...t.parameters,docs:{...(d=t.parameters)==null?void 0:d.docs,source:{originalSource:`{
  args: {
    state: 'idle'
  }
}`,...(m=(g=t.parameters)==null?void 0:g.docs)==null?void 0:m.source}}};var u,_,h;c.parameters={...c.parameters,docs:{...(u=c.parameters)==null?void 0:u.docs,source:{originalSource:`{
  args: {
    state: 'connecting'
  }
}`,...(h=(_=c.parameters)==null?void 0:_.docs)==null?void 0:h.source}}};var x,j,y;a.parameters={...a.parameters,docs:{...(x=a.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    state: 'success',
    accountName: 'DJ_PartyVibes'
  }
}`,...(y=(j=a.parameters)==null?void 0:j.docs)==null?void 0:y.source}}};var v,f,C;i.parameters={...i.parameters,docs:{...(v=i.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    state: 'error',
    errorMessage: 'Authentication was cancelled. Please try again.'
  }
}`,...(C=(f=i.parameters)==null?void 0:f.docs)==null?void 0:C.source}}};const X=["Idle","Connecting","Success","Error"];export{c as Connecting,i as Error,t as Idle,a as Success,X as __namedExportsOrder,W as default};

import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{r as f}from"./index-tvICUrOf.js";import{P as B}from"./PhoneLanding-tvCEyniM.js";import{A as T}from"./AvatarBuilder-11Rzf9lu.js";import{P as J}from"./PhoneLobby-DT2c_-Pi.js";import{W as _}from"./WritingInput-C2b7ZwQa.js";import{S as D}from"./ShakeSubmit-DYc3RKpT.js";import{V as G}from"./VotingPad-Ddg6idLc.js";import{W as h}from"./WaitingScreen-YJRbeepf.js";import"./index-yBjzXJbu.js";import"./clsx-B-dksMZM.js";import"./Typography-Btiv0Ab8.js";import"./Button-BfZG8wjE.js";import"./Input-ByT4xUG8.js";import"./Avatar-DE_ybKox.js";import"./Timer-adIv4miV.js";function M({phase:e,roomCode:j,players:c,currentRound:C,timerRemaining:m,timerDuration:d,rounds:V,playerId:v,onJoin:p,onCreatePlayer:g,onSubmitAnswer:k,onVote:I,onLeave:A,onStartGame:L}){const[W,E]=f.useState("landing"),[i,O]=f.useState(0),a=c.find(o=>o.id===v),F=()=>a!=null&&a.isVIP?"vip":a!=null&&a.isDJ?"dj":"player",t=V[C-1];switch((()=>{if(!v)return W==="avatar"?"avatar":"landing";switch(e){case"lobby":return"lobby";case"writing":return a!=null&&a.hasSubmitted?"waiting":"writing";case"shaking":return i>=100?"waiting":"shaking";case"voting":return"voting";case"intro":case"reveal":case"summary":case"podium":return"waiting";default:return"waiting"}})()){case"landing":return s.jsx(B,{mode:"join",onJoin:o=>{p==null||p(o),E("avatar")}});case"avatar":return s.jsx(T,{onConfirm:o=>{g==null||g(o)}});case"lobby":return s.jsx(J,{currentPlayer:{id:(a==null?void 0:a.id)||"",name:(a==null?void 0:a.name)||"",avatarShape:(a==null?void 0:a.avatarShape)||"cube",avatarColor:(a==null?void 0:a.avatarColor)||"#CCFF00",isVIP:a==null?void 0:a.isVIP,isDJ:a==null?void 0:a.isDJ},players:c.map(o=>({id:o.id,name:o.name,avatarShape:o.avatarShape,avatarColor:o.avatarColor,isVIP:o.isVIP,isDJ:o.isDJ})),roomCode:j||"",role:F(),onStartGame:L,onLeave:A});case"writing":return s.jsx(_,{prompt:(t==null?void 0:t.prompt)||"Loading...",timeRemaining:m,totalTime:d,isPanic:m<=10,onSubmit:k});case"shaking":return s.jsx(D,{progress:i,targetShakes:50,currentShakes:Math.floor(i/2),isComplete:i>=100});case"voting":return s.jsx(G,{prompt:(t==null?void 0:t.prompt)||"",answerA:"Answer A placeholder",answerB:"Answer B placeholder",timeRemaining:m,totalTime:d,onVote:I});case"waiting":return s.jsx(h,{reason:e==="voting"?"voting":e==="reveal"?"results":e==="summary"?"next-round":"host",playerShape:a==null?void 0:a.avatarShape,playerColor:a==null?void 0:a.avatarColor});default:return s.jsx(h,{reason:"host",playerShape:a==null?void 0:a.avatarShape,playerColor:a==null?void 0:a.avatarColor})}}const ea={title:"Templates/PhoneFlow",component:M,parameters:{layout:"fullscreen",viewport:{defaultViewport:"mobile1"}},tags:["autodocs"]},r={args:{}},n={args:{playerId:"player-1"}};var S,l,w;r.parameters={...r.parameters,docs:{...(S=r.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {}
}`,...(w=(l=r.parameters)==null?void 0:l.docs)==null?void 0:w.source}}};var u,x,b;n.parameters={...n.parameters,docs:{...(u=n.parameters)==null?void 0:u.docs,source:{originalSource:`{
  args: {
    playerId: 'player-1'
  }
}`,...(b=(x=n.parameters)==null?void 0:x.docs)==null?void 0:b.source}}};const ia=["Landing","WithPlayer"];export{r as Landing,n as WithPlayer,ia as __namedExportsOrder,ea as default};

import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{S as P}from"./SplashScreen-BDg5ckI6.js";import{L as H}from"./Lobby-CdZ8Upcl.js";import{G as J}from"./GameIntro-DhVGopuy.js";import{W}from"./WritingPhase-D80eM0Rv.js";import{S as _}from"./ShakingPhase-B6c08vFM.js";import{V as O}from"./VotingVersus-DTySKahL.js";import{R as q}from"./RoundSummary-wykVznXK.js";import{P as z}from"./Podium-C8mfUnz8.js";import"./index-yBjzXJbu.js";import"./clsx-B-dksMZM.js";import"./Typography-Btiv0Ab8.js";import"./Button-BfZG8wjE.js";import"./PlayerCard-DGJlZh2u.js";import"./Avatar-DE_ybKox.js";import"./index-tvICUrOf.js";import"./Timer-adIv4miV.js";function D({phase:o,roomCode:k,players:r,currentRound:n,totalRounds:l,timerRemaining:i,timerDuration:p,rounds:y,isHost:F=!0,onStartGame:d,onSettings:I,onPlayAgain:V,onExit:A}){var c,v,u,h,g,S,f,C,x;const L=r.map(a=>({id:a.id,name:a.name,avatarShape:a.avatarShape,avatarColor:a.avatarColor,isVIP:a.isVIP,isDJ:a.isDJ,isDrinking:a.isDrinking})),N=()=>r.length===0?"empty":r.length<3?"populating":"ready",e=y[n-1],T=r.map(a=>({id:a.id,name:a.name,avatarShape:a.avatarShape,avatarColor:a.avatarColor,hasSubmitted:a.hasSubmitted})),X=r.map(a=>({id:a.id,name:a.name,avatarShape:a.avatarShape,avatarColor:a.avatarColor,shakeProgress:0,hasCompleted:!1})),B=()=>{const a=[...r].sort((s,G)=>G.score-s.score);return[{...a[0],rank:1},{...a[1],rank:2},{...a[2],rank:3}]},E=()=>[...r].sort((a,s)=>s.score-a.score).map((a,s)=>({id:a.id,name:a.name,avatarShape:a.avatarShape,avatarColor:a.avatarColor,score:a.score,roundPoints:0,rank:s+1}));switch(o){case"idle":return t.jsx(P,{onStart:d});case"lobby":return t.jsx(H,{state:N(),roomCode:k||"XXXX",players:L,maxPlayers:8,isVIP:F,onStartGame:d,onSettings:I});case"intro":return t.jsx(J,{roundNumber:n,totalRounds:l,theme:e==null?void 0:e.prompt});case"writing":return t.jsx(W,{prompt:(e==null?void 0:e.prompt)||"Loading...",timeRemaining:i,totalTime:p,players:T,isPanic:i<=10});case"shaking":return t.jsx(_,{players:X,targetShakes:50,timeRemaining:i});case"voting":case"reveal":return t.jsx(O,{prompt:(e==null?void 0:e.prompt)||"",answerA:{playerId:((c=r[0])==null?void 0:c.id)||"",playerName:((v=r[0])==null?void 0:v.name)||"",avatarShape:((u=r[0])==null?void 0:u.avatarShape)||"cube",avatarColor:((h=r[0])==null?void 0:h.avatarColor)||"#CCFF00",answer:"Answer A placeholder"},answerB:{playerId:((g=r[1])==null?void 0:g.id)||"",playerName:((S=r[1])==null?void 0:S.name)||"",avatarShape:((f=r[1])==null?void 0:f.avatarShape)||"pyramid",avatarColor:((C=r[1])==null?void 0:C.avatarColor)||"#FF10F0",answer:"Answer B placeholder"},timeRemaining:i,totalTime:p,showVotes:o==="reveal",votesA:o==="reveal"?3:void 0,votesB:o==="reveal"?2:void 0,winnerId:o==="reveal"?(x=r[0])==null?void 0:x.id:void 0});case"summary":return t.jsx(q,{roundNumber:n,totalRounds:l,players:E(),isFinalRound:n>=l});case"podium":return t.jsx(z,{winners:B(),onPlayAgain:V,onExit:A});default:return t.jsx(P,{onStart:d})}}const la={title:"Templates/GameFlow",component:D,parameters:{layout:"fullscreen"},tags:["autodocs"]},m={args:{isHost:!0}};var b,w,j;m.parameters={...m.parameters,docs:{...(b=m.parameters)==null?void 0:b.docs,source:{originalSource:`{
  args: {
    isHost: true
  }
}`,...(j=(w=m.parameters)==null?void 0:w.docs)==null?void 0:j.source}}};const da=["Default"];export{m as Default,da as __namedExportsOrder,la as default};

import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{r as u}from"./index-tvICUrOf.js";import{c as m}from"./clsx-B-dksMZM.js";import{T as j}from"./Typography-Btiv0Ab8.js";const I="_circular_l8o6a_2",R="_svg_l8o6a_9",S="_bgCircle_l8o6a_17",T="_progressCircle_l8o6a_22",E="_panicCircle_l8o6a_30",M="_timeDisplay_l8o6a_35",W="_panic_l8o6a_30",B="_shake_l8o6a_1",q="_barContainer_l8o6a_45",A="_sm_l8o6a_53",F="_md_l8o6a_57",G="_lg_l8o6a_61",H="_barProgress_l8o6a_65",J="_barTime_l8o6a_82",r={circular:I,svg:R,bgCircle:S,progressCircle:T,panicCircle:E,timeDisplay:M,panic:W,shake:B,barContainer:q,sm:A,md:F,lg:G,barProgress:H,"bar-panic":"_bar-panic_l8o6a_1",barTime:J};function U({duration:b,timeRemaining:g,onComplete:n,onTick:o,autoStart:C=!0,panicThreshold:$=10,size:a="md",variant:D="circular",className:f}){const[N,w]=u.useState(b),[d,P]=u.useState(C),i=g??N,x=i/b*100,c=i<=$&&i>0;u.useEffect(()=>{if(!d||g!==void 0)return;const l=setInterval(()=>{w(_=>{const e=Math.max(0,_-1);return o==null||o(e),e===0&&(P(!1),n==null||n()),e})},1e3);return()=>clearInterval(l)},[d,g,o,n]);const v=l=>{const _=Math.floor(l/60),e=l%60;return _>0?`${_}:${e.toString().padStart(2,"0")}`:`${e}`};if(D==="bar")return t.jsxs("div",{className:m(r.barContainer,r[a],f),children:[t.jsx("div",{className:m(r.barProgress,c&&r.panic),style:{width:`${x}%`}}),t.jsx(j,{variant:a==="lg"?"h3":a==="sm"?"label":"h4",color:c?"error":"primary",glow:c,className:r.barTime,children:v(i)})]});const s=a==="lg"?200:a==="sm"?80:120,h=a==="lg"?8:a==="sm"?4:6,p=(s-h)/2,y=2*Math.PI*p,k=y*(1-x/100);return t.jsxs("div",{className:m(r.circular,r[a],c&&r.panic,f),style:{width:s,height:s},children:[t.jsxs("svg",{className:r.svg,viewBox:`0 0 ${s} ${s}`,children:[t.jsx("circle",{className:r.bgCircle,cx:s/2,cy:s/2,r:p,strokeWidth:h}),t.jsx("circle",{className:m(r.progressCircle,c&&r.panicCircle),cx:s/2,cy:s/2,r:p,strokeWidth:h,strokeDasharray:y,strokeDashoffset:k,transform:`rotate(-90 ${s/2} ${s/2})`})]}),t.jsx("div",{className:r.timeDisplay,children:t.jsx(j,{variant:a==="lg"?"h1":a==="sm"?"h4":"h2",color:c?"error":"primary",glow:c,kinetic:!0,children:v(i)})})]})}export{U as T};
